{"ast":null,"code":"var baseQuery = {\n  name: \"\",\n  age: \"\",\n  limit: 5,\n  offset: 0\n};\nexport var requestUsersWithError = function requestUsersWithError() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : baseQuery;\n  return new Promise(function () {\n    throw new Error(\"500, unknown server error\");\n  });\n};\nexport var requestUsers = function requestUsers() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : baseQuery;\n  var users = [{\n    name: \"Jack\",\n    id: 0,\n    age: 26\n  }, {\n    name: \"Helen\",\n    id: 1,\n    age: 36\n  }, {\n    name: \"Rick\",\n    id: 2,\n    age: 44\n  }, {\n    name: \"Tom\",\n    id: 3,\n    age: 45\n  }, {\n    name: \"Sarah\",\n    id: 4,\n    age: 40\n  }, {\n    name: \"Linda\",\n    id: 5,\n    age: 41\n  }, {\n    name: \"Tom\",\n    id: 6,\n    age: 42\n  }, {\n    name: \"Shief\",\n    id: 7,\n    age: 21\n  }, {\n    name: \"Bred\",\n    id: 8,\n    age: 17\n  }, {\n    name: \"Till\",\n    id: 9,\n    age: 2\n  }, {\n    name: \"Kane\",\n    id: 10,\n    age: 55\n  }];\n  var filtered = users.filter(function (v) {\n    if (params.name === \"\" && params.age === \"\") return true;\n    var age = parseInt(params.age, 10);\n    var passedAgeFilter = params.age === \"\" ? true : age === v.age;\n    var passedNameFilter = params.name === \"\" || params.name && v.name.toLowerCase().includes(params.name.toLowerCase());\n    return passedAgeFilter && passedNameFilter;\n  }).slice(params.offset, params.offset + params.limit);\n  return new Promise(function (res, rej) {\n    setTimeout(function () {\n      res(filtered);\n    }, 2000);\n  });\n};","map":{"version":3,"names":["baseQuery","name","age","limit","offset","requestUsersWithError","params","arguments","length","undefined","Promise","Error","requestUsers","users","id","filtered","filter","v","parseInt","passedAgeFilter","passedNameFilter","toLowerCase","includes","slice","res","rej","setTimeout"],"sources":["D:/Lessons-React/users-app-forked/src/api.ts"],"sourcesContent":["export interface User {\n  name: string;\n  id: number;\n  age: number;\n}\n\nexport interface Query {\n  name: string;\n  age: string;\n  limit: number;\n  offset: number;\n}\n\nconst baseQuery: Query = {\n  name: \"\",\n  age: \"\",\n  limit: 5,\n  offset: 0\n};\n\nexport const requestUsersWithError = (\n  params: Query = baseQuery\n): Promise<User[]> => {\n  return new Promise(() => {\n    throw new Error(\"500, unknown server error\");\n  });\n};\n\nexport const requestUsers = (params: Query = baseQuery): Promise<User[]> => {\n  const users: User[] = [\n    { name: \"Jack\", id: 0, age: 26 },\n    { name: \"Helen\", id: 1, age: 36 },\n    { name: \"Rick\", id: 2, age: 44 },\n    { name: \"Tom\", id: 3, age: 45 },\n    { name: \"Sarah\", id: 4, age: 40 },\n    { name: \"Linda\", id: 5, age: 41 },\n    { name: \"Tom\", id: 6, age: 42 },\n    { name: \"Shief\", id: 7, age: 21 },\n    { name: \"Bred\", id: 8, age: 17 },\n    { name: \"Till\", id: 9, age: 2 },\n    { name: \"Kane\", id: 10, age: 55 }\n  ];\n\n  const filtered = users\n    .filter((v) => {\n      if (params.name === \"\" && params.age === \"\") return true;\n      const age = parseInt(params.age, 10);\n      const passedAgeFilter = params.age === \"\" ? true : age === v.age;\n      const passedNameFilter =\n        params.name === \"\" ||\n        (params.name &&\n          v.name.toLowerCase().includes(params.name.toLowerCase()));\n      return passedAgeFilter && passedNameFilter;\n    })\n    .slice(params.offset, params.offset + params.limit);\n\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      res(filtered);\n    }, 2000);\n  });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}